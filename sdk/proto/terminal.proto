syntax = "proto3";

package proto;

import "google/protobuf/empty.proto";

// TerminalUIService is a service that provides "sdk/terminal.UI" interface
// to plugins. Plugins don't interact with this directly, they usually
// interact with it indirectly via a terminal.UI implementation.
service TerminalUIService {
  rpc Output(TerminalUI.OutputRequest) returns (google.protobuf.Empty);
}

message TerminalUI {
  message OutputRequest {
    repeated string lines = 1;

    oneof update {
      Status status = 2;
      Header header = 3;
      Error error = 4;
      Warning warning = 5;
      Success success = 6;
      KeyValues keyvalues = 7;
    }

    message Status {
      string status = 1;
      string msg = 2;
      bool step = 3;
    }

    message Header {
      string msg = 1;
    }

    message Error {
      string msg = 1;
    }

    message Warning {
      string msg = 1;
    }

    message Success {
      string msg = 1;
    }

    message KeyValues {
      string msg = 1;
    }
  }
}
