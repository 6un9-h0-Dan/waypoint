---
layout: docs
page_title: Initialize Waypoint
sidebar_title: Initialize Waypoint
description: |-
  Placeholder
---

# Initailizing Waypoint for Your App

Before you can deploy your application, you must let Waypoint know about its configuration. This is done through a `waypoint.hcl` file that can be generated by using the `waypoint init` command. Issue the command to get started:

```bash
wapoint init
```

Waypoint will detect that there is not a waypoint.hcl file present and create one automatically. You can see the contents of this file below:

```shell
# The name of your project. A project typically maps 1:1 to a VCS repository.
# This name must be unique for your Waypoint server. If you're running in
# local mode, this must be unique to your machine.
project = "my-project"

# An application to deploy.
app "web" {
    # Build specifies how an application should be deployed. In this case,
    # we'll build using a Dockerfile and keeping it in a local registry.
    build {
        use "docker" {}

        # Uncomment below to use a remote docker registry to push your built images.
        #
        # registry {
        #   use "docker" {
        #     image = "registry.example.com/image"
        #     tag   = "latest"
        #   }
        # }

    }

    # Deploy to Docker
    deploy {
        use "docker" {}
    }
}
```

The `build` clause defines how Waypoint will build the app. The `pack` option tells Waypoint to use the most relevant Cloud Native Buildpack to build the application. This application is a ReactJS based application, so ultimately NodeJS Buildpacks will be used.

The `deploy` clause defines how Waypoint will deploy the app. Currently this is configured to deploy to Docker, but we will switch this to deploy to Kubernetes instead.

Finally, we will add another stanza for `release` that will allow us to configure our Kubernetes load-balancer configuration.

Update your `waypoint.hcl` to include the following configuration.

```shell
app "reactjs" {
    build {
      use "pack" {}
      registry {
        use "docker" {
          image = "waypoint.local/sample/reactjs"
          tag = "latest"
        }
       }
    }

   deploy {
      use "kubernetes" {
          probe_path = "/"
          static_environment = { "CI"="true" }
      }
    }

    release {
        use "kubernetes" {
            load_balancer = true
            port = 80
        }
    }
}
```

You'll notice several new values have been added.

Within the `build` stanza we have added configurations to use a Docker registry. **Note: you'll need to update this to a docker registry that you have access to
if you are using an external Kubernetes cluster**.

Within the `deploy` stanza we have added a probe_path value that will check services on the root path to ensure they are up. We have also added a configuration called
`static_environment` that will pass environment variables in to our running workload. In this case, since we are using ReactJS - we need to pass `CI=true` in order to
allow the development server to start correctly.

Finally in `release` we have added our `load_balanacer` and `port` configurations for accessing our application.

With these configurations in place, execute the following command in order to initialize Waypoint with this configuration.

```bash
$ waypoint init
```

[Getting Started: Building and Deploying](/docs/getting-started/k8s-example-app/deploy-app)
