{{page-title (concat "Build" " v" @model.sequence)}}

{{#let (or @model.pushedArtifact @model) as |operation|}}
  <PanelHeader @artifact="build" @sequence={{@model.sequence}}>
    <:title>
      <small>
        <Pds::Icon
          @type={{icon-for-component operation.component.name}}
          class="icon"
        />

        <span>
          {{t
            (concat
              "build_status"
              ".type-" operation.component.type
              ".state-" operation.status.state
            )
          }}
          <b>{{component-name operation.component.name}}</b>
        </span>
      </small>
      {{#if @model.preload.jobDataSourceRef.git.commit}}
        <small>
          <GitCommit @commit={{@model.preload.jobDataSourceRef.git.commit}}/>
        </small>
      {{/if}}
    </:title>
    <:actions>
      <Actions::Deploy @sequence={{@model.sequence}} />
    </:actions>
  </PanelHeader>

  <div class="status-row">
    <div class="item">
      <OperationStatusIndicator @status={{operation.status}} />
    </div>
  </div>
{{/let}}

<OperationLogs @jobId={{@model.jobId}} />
